{
  "swagger": "2.0",
  "info": {
    "title": "nikkah_service.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "NikkahIoService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/nikkah/likes": {
      "post": {
        "summary": "Initiates a like process to another profile.\nThis does not send a like request to another profile. It is used when a user\nis interested in the bio and details of a profile, and wants to see the \npictures associated with the profile, before making a decision to send \na match request.",
        "operationId": "NikkahIoService_InitiateNikkahLike",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahLike"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "like",
            "description": "The like to create in the database.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/limestoneNikkahLike"
            }
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    },
    "/v1/nikkah/likes/{likeId}": {
      "get": {
        "summary": "Gets a like with the given id.",
        "operationId": "NikkahIoService_GetNikkahLike",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahLike"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "likeId",
            "description": "The ID of the like to retrieve.",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    },
    "/v1/nikkah/likes/{likeId}/cancel": {
      "post": {
        "summary": "Cancels a like process to another profile.\nThis cancels a like process to another profile, if a user finds that\nthe user is not to their liking after initiating a like.",
        "operationId": "NikkahIoService_CancelNikkahLike",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahLike"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "likeId",
            "description": "The ID of the like process to cancel.",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    },
    "/v1/nikkah/likes/{likeId}/complete": {
      "post": {
        "summary": "Completes a like process to another profile.\nThis completes a like process to another profile, if a user finds that\nthe user is to their liking after initiating a like. This notifies\nthe other user of this. Creates a match resource in the database.",
        "operationId": "NikkahIoService_CompleteNikkahLike",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneCompleteNikkahLikeResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "likeId",
            "description": "The ID of the like to complete.",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    },
    "/v1/nikkah/match/{matchId}": {
      "get": {
        "summary": "Gets a match with the given id.",
        "operationId": "NikkahIoService_GetNikkahMatch",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahMatch"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "matchId",
            "description": "The ID of the match to retrieve.",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    },
    "/v1/nikkah/match/{matchId}/accept": {
      "post": {
        "summary": "Accepts a received match request from a user.\nThis then notifies the other user that the match is accepted, and initiates a chat\nbetween both users.",
        "operationId": "NikkahIoService_AcceptNikkahMatchInvite",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahMatch"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "matchId",
            "description": "The ID of the match invite to accept.",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    },
    "/v1/nikkah/match/{matchId}/end": {
      "post": {
        "summary": "Ends a currently accepted match.",
        "operationId": "NikkahIoService_EndNikkahMatch",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahMatch"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "matchId",
            "description": "The ID of the match invite to end.",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    },
    "/v1/nikkah/match/{matchId}/reject": {
      "post": {
        "summary": "Rejects a received match request.\nThis then silently notifies the other user of the rejection.",
        "operationId": "NikkahIoService_RejectNikkahMatchInvite",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahMatch"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "matchId",
            "description": "The ID of the match invite to reject.",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    },
    "/v1/nikkah/profile": {
      "get": {
        "summary": "Retrieves the profile of the authenticated user.",
        "operationId": "NikkahIoService_GetSelfNikkahProfile",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahProfile"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "tags": [
          "NikkahIoService"
        ]
      },
      "put": {
        "summary": "Updates the profile of the authenticated user.",
        "operationId": "NikkahIoService_UpdateSelfNikkahProfile",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahProfile"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "UpdateSelfNikkahProfileRequest represents a request to update the authenticated user's profile.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/limestoneUpdateSelfNikkahProfileRequest"
            }
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    },
    "/v1/nikkah/profiles": {
      "get": {
        "summary": "Lists profiles based on specified criteria.",
        "operationId": "NikkahIoService_ListNikkahProfiles",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneListNikkahProfilesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "pageSize",
            "description": "The maximum number of profiles to return. Fewer profiles might be returned.\nDefault value is 25.",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pageToken",
            "description": "A page token from a previous `ListNikkahProfiles` call. If this is provided, then the \nnext page will be returned.",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      },
      "post": {
        "summary": "Creates a marriage profile for the authenticated user.",
        "operationId": "NikkahIoService_CreateNikkahProfile",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahProfile"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "profile",
            "description": "The profile to create in the database.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/limestoneNikkahProfile",
              "required": [
                "profile"
              ]
            }
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    },
    "/v1/nikkah/profiles/{profileId}": {
      "get": {
        "summary": "Gets the details of a specific profile.",
        "operationId": "NikkahIoService_GetNikkahProfile",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/limestoneNikkahProfile"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "profileId",
            "description": "The ID of the profile to retrieve.",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "NikkahIoService"
        ]
      }
    }
  },
  "definitions": {
    "googlerpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "limestoneCompleteNikkahLikeResponse": {
      "type": "object",
      "properties": {
        "like": {
          "$ref": "#/definitions/limestoneNikkahLike",
          "description": "The like that was completed."
        },
        "match": {
          "$ref": "#/definitions/limestoneNikkahMatch",
          "description": "The match that was initiated."
        }
      },
      "description": "CompleteNikkahLikeResponse represents a response to a complete like request."
    },
    "limestoneListNikkahProfilesResponse": {
      "type": "object",
      "properties": {
        "profiles": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/limestoneNikkahProfile"
          },
          "description": "The list of returned profiles."
        },
        "nextPageToken": {
          "type": "string",
          "description": "A page token that can be used in a subsequent `ListNikkahProfiles`\ncall to fetch the next page of results."
        }
      },
      "description": "ListNikkahProfilesResponse represents a response to a list of profiles."
    },
    "limestoneNikkahLike": {
      "type": "object",
      "properties": {
        "likeId": {
          "type": "string",
          "description": "The unique identifier for the like process. This field is output only.",
          "readOnly": true
        },
        "likerProfileId": {
          "type": "string",
          "description": "The ID of the profile who initiated the like."
        },
        "likedProfileId": {
          "type": "string",
          "description": "The ID of the profile which was liked."
        },
        "status": {
          "$ref": "#/definitions/limestoneNikkahLikeStatus",
          "description": "The current status of the like process."
        },
        "createTime": {
          "type": "string",
          "format": "date-time",
          "description": "The create time of the event. This field is output only.",
          "readOnly": true
        },
        "updateTime": {
          "type": "string",
          "format": "date-time",
          "description": "The update time of the event. This field is output only.",
          "readOnly": true
        }
      },
      "description": "NikkahLike represents a like process initiated by a user towards another user's profile."
    },
    "limestoneNikkahLikeStatus": {
      "type": "string",
      "enum": [
        "STATUS_UNSPECIFIED",
        "INITIATED",
        "COMPLETED",
        "CANCELLED"
      ],
      "default": "STATUS_UNSPECIFIED",
      "description": "Denotes an enum that specifies the current status of the like.\n\n - INITIATED: The like is initiated, so the user can see the pictures of the other profile.\n - COMPLETED: The like has been completed, indicating mutual interest.\n - CANCELLED: The like has been cancelled."
    },
    "limestoneNikkahMatch": {
      "type": "object",
      "properties": {
        "matchId": {
          "type": "string",
          "description": "The unique identifier for the match. This field is output only.",
          "readOnly": true
        },
        "initiatorProfileId": {
          "type": "string",
          "description": "The ID of the profile who initiated the match."
        },
        "receiverProfileId": {
          "type": "string",
          "description": "The ID of the profile which received the match."
        },
        "status": {
          "$ref": "#/definitions/limestoneNikkahMatchStatus",
          "description": "The current status of the match."
        },
        "createTime": {
          "type": "string",
          "format": "date-time",
          "description": "The create time of the event. This field is output only.",
          "readOnly": true
        },
        "updateTime": {
          "type": "string",
          "format": "date-time",
          "description": "The update time of the event. This field is output only.",
          "readOnly": true
        }
      },
      "description": "NikkahMatch represents a successful match between two users."
    },
    "limestoneNikkahMatchStatus": {
      "type": "string",
      "enum": [
        "STATUS_UNSPECIFIED",
        "INITIATED",
        "ACCEPTED",
        "REJECTED",
        "ENDED"
      ],
      "default": "STATUS_UNSPECIFIED",
      "description": "Denotes an enum that specifies the current status of the match.\n\n - INITIATED: The match has been initiated, so one side has sent the invite to the other.\n - ACCEPTED: The match has been accepted, indicating mutual interest.\n - REJECTED: The match has been rejected.\n - ENDED: The match has been ended. \nThis should occur after the match was in ACCEPTED status."
    },
    "limestoneNikkahProfile": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "The unique id associated with the profile. Field is output only.",
          "readOnly": true
        },
        "userId": {
          "type": "string",
          "description": "The user id associated with the profile."
        },
        "name": {
          "type": "string",
          "description": "The user id associated with the profile."
        },
        "gender": {
          "$ref": "#/definitions/limestoneNikkahProfileGender",
          "description": "The gender of the user."
        },
        "birthDate": {
          "$ref": "#/definitions/limestoneNikkahProfileBirthDate",
          "description": "The birthdate of the user."
        },
        "createTime": {
          "type": "string",
          "format": "date-time",
          "description": "The create time of the event. This field is output only.",
          "readOnly": true
        },
        "updateTime": {
          "type": "string",
          "format": "date-time",
          "description": "The update time of the event. This field is output only.",
          "readOnly": true
        }
      },
      "description": "Represents a user's profile in the nikkah.io."
    },
    "limestoneNikkahProfileBirthDate": {
      "type": "object",
      "properties": {
        "year": {
          "type": "integer",
          "format": "int32",
          "title": "Year of birth (e.g., 1995)"
        },
        "month": {
          "$ref": "#/definitions/limestoneNikkahProfileBirthDateMonth"
        },
        "day": {
          "type": "integer",
          "format": "int32",
          "title": "Day of birth (1-31)"
        }
      },
      "description": "A message describing the birth date of a user."
    },
    "limestoneNikkahProfileBirthDateMonth": {
      "type": "string",
      "enum": [
        "MONTH_UNSPECIFIED",
        "JANUARY",
        "FEBRUARY",
        "MARCH",
        "APRIL",
        "MAY",
        "JUNE",
        "JULY",
        "AUGUST",
        "SEPTEMBER",
        "OCTOBER",
        "NOVEMBER",
        "DECEMBER"
      ],
      "default": "MONTH_UNSPECIFIED",
      "title": "Month of birth (1-12)"
    },
    "limestoneNikkahProfileGender": {
      "type": "string",
      "enum": [
        "GENDER_UNSPECIFIED",
        "MALE",
        "FEMALE"
      ],
      "default": "GENDER_UNSPECIFIED",
      "description": "Defines an enum representing the gender of the user.\n\n - GENDER_UNSPECIFIED: Default value."
    },
    "limestoneUpdateSelfNikkahProfileRequest": {
      "type": "object",
      "properties": {
        "profile": {
          "$ref": "#/definitions/limestoneNikkahProfile",
          "description": "The profile to update in the database.\n\nThe profile's `name` field is used to identify the profile to update."
        }
      },
      "description": "UpdateSelfNikkahProfileRequest represents a request to update the authenticated user's profile.",
      "required": [
        "profile"
      ]
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    }
  }
}
